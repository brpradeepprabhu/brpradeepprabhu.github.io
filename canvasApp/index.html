<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
    <script src="./jscolor.js"></script>
    <style>
      input {
        position: relative;
        margin: 10px;
        width: 100%;
      }
    </style>
  </head>
  <body onload="init()">
    Color: <input class="jscolor" id="jscolor" onchange="update(this.jscolor)" value="718FA6" />
    <canvas style="background:wheat" width="500" height="500" id="canvas"></canvas>
    <script>
      var bitmap, stage;
      function update(jscolor) {
        console.log(jscolor);
        var r = Math.round(jscolor.rgb[0]);
        var g = Math.round(jscolor.rgb[1]);
        var b = Math.round(jscolor.rgb[2]);
        bitmap.filters = [new createjs.ColorFilter(0, 0, 0, 1, r, g, b, 0)];
        bitmap.updateCache(50, 50, bitmap.image.width, bitmap.image.height);
        stage.update();
      }
      function init() {
        stage = new createjs.Stage(document.getElementById('canvas'));
        var image = new Image();
        image.src = 'test.png';
        image.onload = function() {
          bitmap = new createjs.Bitmap(this);
          bitmap.scaleX = image.width > 400 ? 400 / image.width : 1;
          bitmap.scaleY = image.height > 400 ? 400 / image.height : 1;
          stage.addChild(bitmap);
          bitmap.x = 50;
          bitmap.y = 50;
          
          bitmap.filters = [new createjs.ColorFilter(0, 0, 0, 1, 113, 143, 166, 0)];
          bitmap.cache(50, 50, image.width, image.height);
          stage.update();
        };
      }
    </script>
  </body>
</html>
